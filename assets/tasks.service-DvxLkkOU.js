import{s as r}from"./index-C4Qyt9O8.js";const n={async getTasksByCase(s){const{data:e,error:a}=await r.from("case_tasks").select("*").eq("case_id",s).order("created_at",{ascending:!1});if(a)throw a;return e},async getAllTasks(){const{data:s,error:e}=await r.from("case_tasks").select(`
        *,
        case:cases(id, first_name, last_name, case_num, docs_deadline, case_documents(status))
      `).eq("done",!1).order("deadline",{ascending:!0});if(e)throw e;return s},async createTask(s,e){const{data:a,error:t}=await r.from("case_tasks").insert({case_id:s,text:e.text,urgency:e.urgency||"low",deadline:e.deadline,done:!1}).select().single();if(t)throw t;return a},async updateTask(s,e){const{data:a,error:t}=await r.from("case_tasks").update(e).eq("id",s).select().single();if(t)throw t;return a},async toggleTask(s,e){const{data:a,error:t}=await r.from("case_tasks").update({done:e}).eq("id",s).select().single();if(t)throw t;return a},async deleteTask(s){const{error:e}=await r.from("case_tasks").delete().eq("id",s);if(e)throw e}};export{n as tasksService};
